1. RDB
   1. 每隔几分钟,几个小时,几天 生成 redis 内存中的数据一份完整的快照
   2. 存在多份数据快照
   3. RDB 是数据快照, 持久化时对 Redis 对外提供读写影响非常小



2. AOF
   1. 简介
      1. 每条命令数据都写入
      2. 现代操作系统是先写入 OS cache
      3. 每隔一秒调用一次操作系统 fsync 操作, 强制将 OS cache 中的数据刷入磁盘文件中
      4. 只写一份AOF数据文件
      5. AOF 文件会逐渐膨胀的很大
      6. 当足够大时,  Redis 此时对AOF进行 Rewrite, 旧的文件将会被删除, 此时存放最多大小为 Redis 承受的数据大小



3. 定期把持久化的数据拷贝到别的服务器, 然后再拷贝进指定目录进行恢复
   1. 若两种持久化方式都开启了的话, redis 默认使用 AOF 恢复数据, 因为 AOF 文件保存的数据更加完整 